<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StartupX | Command Center</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="stars-container"></div>
    <div class="app-container">
        <aside class="sidebar">
            <div class="logo">
                <img src="{{ url_for('static', filename='logo.svg') }}" style="height: 40px; width: 40px;"
                    alt="StartupX Logo">
                <span class="logo-text">STARTUPX</span>
            </div>

            <div class="profile-card">
                <h3>Founder Profile</h3>
                <div id="user-profile-img-container" style="margin-bottom: 12px; display: none;">
                    <img id="user-profile-img" src=""
                        style="width: 100%; border-radius: 8px; border: 1px solid var(--accent);">
                </div>
                <div id="user-profile-data">
                    <div class="profile-item"><strong id="prof-startup">Loading...</strong></div>
                    <div class="profile-item" id="prof-founder"
                        style="font-size: 0.75rem; color: var(--text-secondary);"></div>
                    <div class="profile-item" id="prof-stage"
                        style="font-size: 0.75rem; margin-top: 5px; color: var(--accent);"></div>
                </div>
            </div>

            <nav class="agent-list">
                <div class="nav-label">COMMAND CENTER</div>
                <button class="agent-btn active" data-agent="core">
                    <div class="status-indicator online"></div>
                    <span class="agent-name">Core Intelligence</span>
                </button>
                <div class="nav-label">SPECIALISTS</div>
                <button class="agent-btn" data-agent="compliance">
                    <div class="status-indicator offline"></div>
                    <span class="agent-name">Compliance</span>
                </button>
                <button class="agent-btn" data-agent="ip_shield">
                    <div class="status-indicator offline"></div>
                    <span class="agent-name">IP Shield</span>
                </button>
                <button class="agent-btn" data-agent="procurement">
                    <div class="status-indicator offline"></div>
                    <span class="agent-name">Procurement</span>
                </button>
                <button class="agent-btn" data-agent="risk">
                    <div class="status-indicator offline"></div>
                    <span class="agent-name">Risk Agent</span>
                </button>
            </nav>
            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="pulse"></div>
                    <span>StartupX Active</span>
                </div>
            </div>
        </aside>

        <main class="chat-interface">
            <header class="chat-header">
                <div class="header-info">
                    <h2 id="active-agent-name">StartupX Core Intelligence</h2>
                    <p id="active-agent-desc">Orchestrating the startup journey from idea to execution.</p>
                </div>
                <div class="header-actions">
                    <button class="clear-btn" onclick="clearChat()">Clear History</button>
                </div>
            </header>

            <div class="messages-container" id="chat-messages">
                <div class="message system">
                    <div class="msg-content">Welcome to StartupX. Initializing protocols...</div>
                </div>
            </div>

            <footer class="chat-input-area">
                <div class="input-container">
                    <button id="attach-btn" class="icon-btn" title="Upload Image/Document">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path fill="currentColor"
                                d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.31 2.69 6 6 6s6-2.69 6-6V6h-1.5z">
                            </path>
                        </svg>
                    </button>
                    <input type="file" id="file-input" style="display: none;" accept="image/*,.pdf,.txt,.doc,.docx">
                    <textarea id="user-input" placeholder="Type your message here..." rows="1"></textarea>
                    <button id="send-btn">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                        </svg>
                    </button>
                </div>
                <div id="file-preview-container"
                    style="display: none; padding: 10px; background: rgba(255,255,255,0.05); margin-top: 5px; border-radius: 8px; font-size: 0.8rem; color: var(--accent); align-items: center; gap: 10px;">
                    <span id="file-name"></span>
                    <button id="remove-file"
                        style="background: none; border: none; color: #ff3c3c; cursor: pointer;">âœ•</button>
                </div>
            </footer>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="hidden">
        <div class="loader"></div>
        <span>Processing with StartupX...</span>
    </div>

    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>

</html>